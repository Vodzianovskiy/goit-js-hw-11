{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst Api_key = '54665036-94176af4f08ccc0fd35b37209';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default{\n    getImagesByQuery(query) {\n        const params = {\n            key: Api_key,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        };\n\n        return axios.get(BASE_URL, {params})\n        .then(response => response.data)\n        .catch(error =>{\n            console.log('Api error', error);\n            throw error;\n        })\n        \n\n    }\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryRef = document.querySelector('.gallery');\nconst loaderRef = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport default {\n  createGallery(images) {\n    const markup = images\n      .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <a href=\"${largeImageURL}\">\n          <div class=\"photo-card\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n              <p class=\"info-item\">Likes <span>${likes}</span></p>\n              <p class=\"info-item\">Views<span>${views}</span></p>\n              <p class=\"info-item\">Comments <span>${comments}</span></p>\n              <p class=\"info-item\">Downloads<span>${downloads}</span></p>\n            </div>\n          </div>\n        </a>\n      `)\n      .join('');\n\n    galleryRef.innerHTML = '';\n    galleryRef.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n  },\n\n  clearGallery() {\n    galleryRef.innerHTML = '';\n  },\n\n  showLoader() {\n    loaderRef.classList.remove('is-hidden');\n  },\n\n  hideLoader() {\n    loaderRef.classList.add('is-hidden');\n  },\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport api from './js/pixabay-api.js';\nimport render from './js/render-functions.js';\n\nconst formRef = document.querySelector('.form');\nconst inputRef = document.querySelector('input[name=\"search-text\"]');\n\nformRef.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  \n  const query = inputRef.value.trim();\n  if (!query) {\n    iziToast.error({ \n      message: 'Please enter a search query!' \n    });\n    return;\n  }\n\n  render.clearGallery();\n  render.showLoader();\n  inputRef.value = '';\n\n  api.getImagesByQuery(query)\n    .then(data => {\n      render.hideLoader();\n      \n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight'\n        });\n        return;\n      }\n      \n      render.createGallery(data);\n      iziToast.success({ \n        message: `Hooray! We found ${data.hits.length} images.`, \n        position: 'topRight'\n      });\n    })\n    .catch(error => {\n      render.hideLoader();\n      iziToast.error({ message: 'Oops, something went wrong!' });\n    });\n}\n"],"names":["Api_key","BASE_URL","api","query","params","axios","response","error","galleryRef","loaderRef","lightbox","SimpleLightbox","render","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formRef","inputRef","onSubmit","e","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEHC,EAAA,CACV,iBAAiBC,EAAO,CACpB,MAAMC,EAAS,CACX,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACxB,EAEQ,OAAOE,EAAM,IAAIJ,EAAU,CAAC,OAAAG,CAAM,CAAC,EAClC,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAQ,CACX,cAAQ,IAAI,YAAaA,CAAK,EACxBA,CAClB,CAAS,CAGJ,CACL,ECrBMC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAC5CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEcC,EAAA,CACb,cAAcC,EAAQ,CACpB,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA,mBACtEL,CAAa;AAAA;AAAA,wBAERD,CAAY,UAAUE,CAAI;AAAA;AAAA,iDAEDC,CAAK;AAAA,gDACNC,CAAK;AAAA,oDACDC,CAAQ;AAAA,oDACRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAItD,EACA,KAAK,EAAE,EAEVb,EAAW,UAAY,GACvBA,EAAW,mBAAmB,YAAaM,CAAM,EACjDJ,EAAS,QAAO,CACjB,EAED,cAAe,CACbF,EAAW,UAAY,EACxB,EAED,YAAa,CACXC,EAAU,UAAU,OAAO,WAAW,CACvC,EAED,YAAa,CACXA,EAAU,UAAU,IAAI,WAAW,CACpC,CACH,ECvCMa,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAW,SAAS,cAAc,2BAA2B,EAEnED,EAAQ,iBAAiB,SAAUE,CAAQ,EAE3C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhB,MAAMtB,EAAQoB,EAAS,MAAM,KAAI,EACjC,GAAI,CAACpB,EAAO,CACVuB,EAAS,MAAM,CACb,QAAS,8BACf,CAAK,EACD,MACD,CAEDd,EAAO,aAAY,EACnBA,EAAO,WAAU,EACjBW,EAAS,MAAQ,GAEjBrB,EAAI,iBAAiBC,CAAK,EACvB,KAAKwB,GAAQ,CAGZ,GAFAf,EAAO,WAAU,EAEbe,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDd,EAAO,cAAce,CAAI,EACzBD,EAAS,QAAQ,CACf,QAAS,oBAAoBC,EAAK,KAAK,MAAM,WAC7C,SAAU,UAClB,CAAO,CACP,CAAK,EACA,MAAMpB,GAAS,CACdK,EAAO,WAAU,EACjBc,EAAS,MAAM,CAAE,QAAS,6BAA+B,CAAA,CAC/D,CAAK,CACL"}